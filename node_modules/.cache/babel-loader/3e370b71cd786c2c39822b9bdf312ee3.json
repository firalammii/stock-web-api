{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nimport { dequal as deepEqual } from 'dequal/lite';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar DEFAULT_OPTIONS = {\n  manual: false,\n  useCache: true,\n  ssr: true,\n  autoCancel: true\n};\nvar useAxios = makeUseAxios();\nvar __ssrPromises = useAxios.__ssrPromises,\n    resetConfigure = useAxios.resetConfigure,\n    configure = useAxios.configure,\n    loadCache = useAxios.loadCache,\n    serializeCache = useAxios.serializeCache,\n    clearCache = useAxios.clearCache;\nexport default useAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache, clearCache };\n\nfunction isReactEvent(obj) {\n  return obj && obj.nativeEvent && obj.nativeEvent instanceof Event;\n}\n\nfunction createCacheKey(config) {\n  var cleanedConfig = _extends({}, config);\n\n  delete cleanedConfig.cancelToken;\n  return JSON.stringify(cleanedConfig);\n}\n\nfunction configToObject(config) {\n  if (typeof config === 'string') {\n    return {\n      url: config\n    };\n  }\n\n  return Object.assign({}, config);\n}\n\nexport function makeUseAxios(configureOptions) {\n  var cache;\n  var axiosInstance;\n  var defaultOptions;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n    defaultOptions = DEFAULT_OPTIONS;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n\n    if (options.defaultOptions !== undefined) {\n      defaultOptions = _extends({}, DEFAULT_OPTIONS, options.defaultOptions);\n    }\n  }\n\n  resetConfigure();\n  configure(configureOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function clearCache() {\n    cache.reset();\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache,\n    clearCache: clearCache\n  });\n\n  function tryStoreInCache(config, response) {\n    if (!cache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n\n    var responseForCache = _extends({}, response);\n\n    delete responseForCache.config;\n    delete responseForCache.request;\n    cache.set(cacheKey, responseForCache);\n  }\n\n  function createInitialState(config, options) {\n    var response = !options.manual && tryGetFromCache(config, options);\n    return _extends({\n      loading: !options.manual && !response,\n      error: null\n    }, response ? {\n      data: response.data,\n      response: response\n    } : null);\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n    }\n  }\n\n  function tryGetFromCache(config, options, dispatch) {\n    if (!cache || !options.useCache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n    var response = cache.get(cacheKey);\n\n    if (response && dispatch) {\n      dispatch({\n        type: actions.REQUEST_END,\n        payload: response\n      });\n    }\n\n    return response;\n  }\n\n  function executeRequest(_x, _x2) {\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function _executeRequest() {\n    _executeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context2.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context2.sent;\n              tryStoreInCache(config, response);\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context2.abrupt(\"return\", response);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context2.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context2.t0,\n                  error: true\n                });\n              }\n\n              throw _context2.t0;\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function request(_x3, _x4, _x5) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, options, dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", tryGetFromCache(config, options, dispatch) || executeRequest(config, dispatch));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function useAxios(_config, _options) {\n    var config = React.useMemo(function () {\n      return configToObject(_config);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    useDeepCompareMemoize(_config));\n    var options = React.useMemo(function () {\n      return _extends({}, defaultOptions, _options);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    useDeepCompareMemoize(_options));\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(config, options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && options.ssr && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(config));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      if (options.autoCancel) {\n        cancelOutstandingRequest();\n      }\n\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest, options.autoCancel]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        request(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest;\n    }, [config, options, withCancelToken, cancelOutstandingRequest]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      configOverride = configToObject(configOverride);\n      return request(withCancelToken(_extends({}, config, isReactEvent(configOverride) ? null : configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, [config, withCancelToken]);\n    return [state, refetch, cancelOutstandingRequest];\n  }\n}\n\nfunction useDeepCompareMemoize(value) {\n  var ref = React.useRef();\n  var signalRef = React.useRef(0);\n\n  if (!deepEqual(value, ref.current)) {\n    ref.current = value;\n    signalRef.current += 1;\n  }\n\n  return [signalRef.current];\n}","map":{"version":3,"sources":["/Users/firomsadewano/NodeProjects/react-stock-management-system1/node_modules/axios-hooks/es/index.js"],"names":["_asyncToGenerator","_extends","_regeneratorRuntime","React","StaticAxios","LRU","dequal","deepEqual","actions","REQUEST_START","REQUEST_END","DEFAULT_OPTIONS","manual","useCache","ssr","autoCancel","useAxios","makeUseAxios","__ssrPromises","resetConfigure","configure","loadCache","serializeCache","clearCache","isReactEvent","obj","nativeEvent","Event","createCacheKey","config","cleanedConfig","cancelToken","JSON","stringify","configToObject","url","Object","assign","configureOptions","cache","axiosInstance","defaultOptions","options","axios","undefined","data","load","_serializeCache","apply","arguments","mark","_callee","ssrPromisesCopy","wrap","_callee$","_context","prev","next","concat","length","Promise","all","abrupt","dump","stop","reset","tryStoreInCache","response","cacheKey","responseForCache","request","set","createInitialState","tryGetFromCache","loading","error","reducer","state","action","_extends2","type","payload","dispatch","get","executeRequest","_x","_x2","_executeRequest","_callee2","_callee2$","_context2","sent","t0","isCancel","_x3","_x4","_x5","_request","_callee3","_callee3$","_context3","_config","_options","useMemo","useDeepCompareMemoize","cancelSourceRef","useRef","_React$useReducer","useReducer","window","push","cancelOutstandingRequest","useCallback","current","cancel","withCancelToken","CancelToken","source","token","useEffect","refetch","configOverride","value","ref","signalRef"],"mappings":"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","sourcesContent":["import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nimport { dequal as deepEqual } from 'dequal/lite';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar DEFAULT_OPTIONS = {\n  manual: false,\n  useCache: true,\n  ssr: true,\n  autoCancel: true\n};\nvar useAxios = makeUseAxios();\nvar __ssrPromises = useAxios.__ssrPromises,\n    resetConfigure = useAxios.resetConfigure,\n    configure = useAxios.configure,\n    loadCache = useAxios.loadCache,\n    serializeCache = useAxios.serializeCache,\n    clearCache = useAxios.clearCache;\nexport default useAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache, clearCache };\n\nfunction isReactEvent(obj) {\n  return obj && obj.nativeEvent && obj.nativeEvent instanceof Event;\n}\n\nfunction createCacheKey(config) {\n  var cleanedConfig = _extends({}, config);\n\n  delete cleanedConfig.cancelToken;\n  return JSON.stringify(cleanedConfig);\n}\n\nfunction configToObject(config) {\n  if (typeof config === 'string') {\n    return {\n      url: config\n    };\n  }\n\n  return Object.assign({}, config);\n}\n\nexport function makeUseAxios(configureOptions) {\n  var cache;\n  var axiosInstance;\n  var defaultOptions;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n    defaultOptions = DEFAULT_OPTIONS;\n  }\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios !== undefined) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache !== undefined) {\n      cache = options.cache;\n    }\n\n    if (options.defaultOptions !== undefined) {\n      defaultOptions = _extends({}, DEFAULT_OPTIONS, options.defaultOptions);\n    }\n  }\n\n  resetConfigure();\n  configure(configureOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function _serializeCache() {\n    _serializeCache = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var ssrPromisesCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ssrPromisesCopy = [].concat(__ssrPromises);\n              __ssrPromises.length = 0;\n              _context.next = 4;\n              return Promise.all(ssrPromisesCopy);\n\n            case 4:\n              return _context.abrupt(\"return\", cache.dump());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _serializeCache.apply(this, arguments);\n  }\n\n  function clearCache() {\n    cache.reset();\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache,\n    clearCache: clearCache\n  });\n\n  function tryStoreInCache(config, response) {\n    if (!cache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n\n    var responseForCache = _extends({}, response);\n\n    delete responseForCache.config;\n    delete responseForCache.request;\n    cache.set(cacheKey, responseForCache);\n  }\n\n  function createInitialState(config, options) {\n    var response = !options.manual && tryGetFromCache(config, options);\n    return _extends({\n      loading: !options.manual && !response,\n      error: null\n    }, response ? {\n      data: response.data,\n      response: response\n    } : null);\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n    }\n  }\n\n  function tryGetFromCache(config, options, dispatch) {\n    if (!cache || !options.useCache) {\n      return;\n    }\n\n    var cacheKey = createCacheKey(config);\n    var response = cache.get(cacheKey);\n\n    if (response && dispatch) {\n      dispatch({\n        type: actions.REQUEST_END,\n        payload: response\n      });\n    }\n\n    return response;\n  }\n\n  function executeRequest(_x, _x2) {\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function _executeRequest() {\n    _executeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(config, dispatch) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              dispatch({\n                type: actions.REQUEST_START\n              });\n              _context2.next = 4;\n              return axiosInstance(config);\n\n            case 4:\n              response = _context2.sent;\n              tryStoreInCache(config, response);\n              dispatch({\n                type: actions.REQUEST_END,\n                payload: response\n              });\n              return _context2.abrupt(\"return\", response);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              if (!StaticAxios.isCancel(_context2.t0)) {\n                dispatch({\n                  type: actions.REQUEST_END,\n                  payload: _context2.t0,\n                  error: true\n                });\n              }\n\n              throw _context2.t0;\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n    return _executeRequest.apply(this, arguments);\n  }\n\n  function request(_x3, _x4, _x5) {\n    return _request.apply(this, arguments);\n  }\n\n  function _request() {\n    _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(config, options, dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", tryGetFromCache(config, options, dispatch) || executeRequest(config, dispatch));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _request.apply(this, arguments);\n  }\n\n  function useAxios(_config, _options) {\n    var config = React.useMemo(function () {\n      return configToObject(_config);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    useDeepCompareMemoize(_config));\n    var options = React.useMemo(function () {\n      return _extends({}, defaultOptions, _options);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    useDeepCompareMemoize(_options));\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(config, options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && options.ssr && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(config));\n    }\n\n    var cancelOutstandingRequest = React.useCallback(function () {\n      if (cancelSourceRef.current) {\n        cancelSourceRef.current.cancel();\n      }\n    }, []);\n    var withCancelToken = React.useCallback(function (config) {\n      if (options.autoCancel) {\n        cancelOutstandingRequest();\n      }\n\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n      config.cancelToken = cancelSourceRef.current.token;\n      return config;\n    }, [cancelOutstandingRequest, options.autoCancel]);\n    React.useEffect(function () {\n      if (!options.manual) {\n        request(withCancelToken(config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return cancelOutstandingRequest;\n    }, [config, options, withCancelToken, cancelOutstandingRequest]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      configOverride = configToObject(configOverride);\n      return request(withCancelToken(_extends({}, config, isReactEvent(configOverride) ? null : configOverride)), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, [config, withCancelToken]);\n    return [state, refetch, cancelOutstandingRequest];\n  }\n}\n\nfunction useDeepCompareMemoize(value) {\n  var ref = React.useRef();\n  var signalRef = React.useRef(0);\n\n  if (!deepEqual(value, ref.current)) {\n    ref.current = value;\n    signalRef.current += 1;\n  }\n\n  return [signalRef.current];\n}"]},"metadata":{},"sourceType":"module"}